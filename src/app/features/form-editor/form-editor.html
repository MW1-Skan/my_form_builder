<h1>{{ isEdit() ? 'Edit' : 'Create' }} a form</h1>

<form [formGroup]="formEditorForm" (ngSubmit)="save()">
  <p-floatlabel variant="on">
    <input pInputText id="title" formControlName="title" autocomplete="off" />
    <label for="title">Title *</label>
  </p-floatlabel>
  <p-floatlabel variant="in">
    <textarea
      pTextarea
      id="description"
      formControlName="description"
      autocomplete="off"
    ></textarea>
    <label for="description">Description</label>
  </p-floatlabel>

  <div formArrayName="elements">
    @for (elementEditorForm of elementsEditorForms.controls; track $index) {
      <app-form-element [elementEditorForm]="elementEditorForm" (remove)="removeElement($index)" />
    }
  </div>

  <p-button label="Add item" (onClick)="addItem()"></p-button>
  <p-button
    label="Add separator"
    (onClick)="addSeparator()"
    [disabled]="!canAddSeparator()"
  ></p-button>

  <p-button label="Confirm" type="submit" />
  <p-button label="Cancel" (onClick)="cancel()" />
  <p-button label="Log form" (onClick)="logForm()" />
</form>
